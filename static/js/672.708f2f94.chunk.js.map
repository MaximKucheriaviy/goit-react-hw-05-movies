{"version":3,"file":"static/js/672.708f2f94.chunk.js","mappings":"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","sources":["components/Review/Review.jsx","pages/Reviews.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","servises/themoviedbAPI.js"],"sourcesContent":["export const Review = ({review}) => {\n    const {author, content} = review;\n    return <>\n        <p>{\"Autor \"}<span>{author}</span></p>\n        <p>{content}</p>\n    </>\n}","import { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { Review } from \"components/Review/Review\";\nimport { api } from \"servises/themoviedbAPI\";\n\nconst Reviews = ({isLoading}) => {\n    const {movieId} = useParams();\n    const [reviews, setReviews] = useState([]);\n    useEffect(() => {\n        isLoading(true);\n        api.getMoviReviews(movieId)\n        .then(data => {\n            if(!data.results.length){\n                return;\n            }\n            setReviews(data.results);\n        })\n        .catch(err => {\n            console.log(err);\n        })\n        .finally(() =>{\n            isLoading(false);\n        })\n    }, [movieId, isLoading]);\n    \n    return <>\n        {reviews.length > 0 ? \n        <ul>\n           {reviews.map(item => <li key={item.author}><Review review={item}/></li>)}\n        </ul>\n        : <p>We don`t have anyu review to this movie.</p>}\n    </>  \n}\n\nexport default Reviews;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import logo from \"logo192.png\";\n\nclass TMDB {\n    constructor(key = \"1cdff00a9c2b2133227357e455cd1931\"){\n        this.apiKey = key;\n        this.imageURL = \"https://image.tmdb.org/t/p/w500\";\n        this.genreNeaded = true;\n        this.genders = [];\n    }\n    async getTrendings(page = 1){\n        try{\n            await this.getGenres();\n            const response = await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${this.apiKey}&page=${page}`);\n            if(response.ok){\n                const data = await response.json();\n                return this.transfomResult(data);\n            }\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n    async getMoviByKeyword(query){\n        await this.getGenres();\n        try{\n            const response = await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${query}`);\n            if(response.ok){\n                const data = await response.json();\n                return this.transfomResult(data);\n            }\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n    async getMoviInfo(id){\n        await this.getGenres();\n        try{\n            const response = await fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${this.apiKey}`);\n            if(response.ok){\n                const data = await response.json();\n                return this.transfomResult(data);\n            }\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n    async getMoviCredits(id){\n        await this.getGenres();\n        try{\n            const response = await fetch(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${this.apiKey}`);\n            if(response.ok){\n                const data = await response.json();\n                data.cast = this.transfromCasts(data.cast);\n                return data;\n            }\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n    async getMoviReviews(id){\n        await this.getGenres();\n        try{\n            const response = await fetch(`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${this.apiKey}`);\n            if(response.ok){\n                const data = await response.json();\n                // data.cast = this.transfromCasts(data.cast);\n                return data;\n            }\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n    transfomResult(data){\n        if(Array.isArray(data.results)){\n            data.results = data.results.map(item => {\n                item.poster_path = this.imageURL + item.poster_path;\n                item.backdrop_path = this.imageURL + item.backdrop_path;\n                item.genre_ids = this.transfomGenders(item.genre_ids);\n                return item;\n            })\n        }\n        else{\n            data.poster_path = this.imageURL + data.poster_path;\n            data.backdrop_path = this.imageURL + data.backdrop_path;\n            data.genre_ids = this.transfomGenders(data.genre_ids);\n        }\n        return data;\n    }\n    async getGenres(){\n        if(this.genreNeaded){\n            this.genreNeaded = !this.genreNeaded;\n            const URL = `https://api.themoviedb.org/3/genre/movie/list?api_key=${this.apiKey}`\n            const URL2 = `https://api.themoviedb.org/3/genre/tv/list?api_key=${this.apiKey}`\n            try{\n                const response = await fetch(URL);\n                if(response.ok){\n                    const data = await response.json();\n                    this.genders.push(...data.genres);\n                }\n            }\n            catch(err){\n                console.error(\"Error in getGenres\")\n                console.log(err);\n            }\n            try{\n                const response = await fetch(URL2);\n                if(response.ok){\n                    const data = await response.json();\n                    this.genders.push(...data.genres);\n                }\n            }\n            catch(err){\n                console.error(\"Error in getGenres\")\n                console.log(err);\n            }\n        }\n    }\n    transfomGenders(arr = []){\n        if(this.genders.length < 1){\n            return arr;\n        }\n        arr = arr.map((id) => this.genders.find(item => item.id === id).name);\n        return arr;\n    }\n    transfromCasts(arr = []){\n        arr = arr.map(item => {\n            if(!item.profile_path){\n                item.profile_path = logo;\n                return item;\n            }\n            item.profile_path = this.imageURL + item.profile_path;\n            return item\n        });\n        return arr\n    }\n}\n\nexport default TMDB;\nexport const api = new TMDB();"],"names":["Review","review","author","content","isLoading","movieId","useParams","useState","reviews","setReviews","useEffect","api","then","data","results","length","catch","err","console","log","finally","map","item","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","undefined","TMDB","apiKey","imageURL","genreNeaded","genders","page","getGenres","fetch","response","ok","json","transfomResult","query","id","cast","transfromCasts","Array","isArray","poster_path","backdrop_path","genre_ids","transfomGenders","URL","URL2","push","genres","arr","find","name","profile_path","logo"],"sourceRoot":""}